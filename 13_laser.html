<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Laser Asteroid Collision" href="14_laser_asteroid_collision.html" /><link rel="prev" title="Ship and Asteroid Collision" href="12_ship_astroid_collision.html" />
        <link rel="prefetch" href="_static/logo.png" as="image" />

    <link rel="shortcut icon" href="_static/logo.ico"/><!-- Generated with Sphinx 7.4.7 and Furo 2025.07.19 -->
        <title>Add Laser - Space Rescue</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=3142f5f7" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Space Rescue</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Space Rescue</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_gameframe.html">Get to know GameFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_welcome.html">Welcome screen</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_gameplay.html">GamePlay Room</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_spaceship.html">Spaceship Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_adv_move.html">Advanced Spaceship Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_ship_in_bounds.html">Keeping Ship in the Room</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_add_boss.html">Add Zork Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_add_asteroids.html">Add Asteroid Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_animate_asteroids.html">Move Asteroids</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_ship_astroid_collision.html">Ship and Asteroid Collision</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Add Laser</a></li>
<li class="toctree-l1"><a class="reference internal" href="14_laser_asteroid_collision.html">Laser Asteroid Collision</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_astronaut.html">Add Astronaut</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_scoring.html">Add Scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="17_lives.html">Add Lives</a></li>
<li class="toctree-l1"><a class="reference internal" href="18_game_design.html">Game Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="19_add_sounds.html">Mechanic - Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="20_unfair_punishment.html">Mechanic - Unfair Punishment</a></li>
<li class="toctree-l1"><a class="reference internal" href="95_planning.html">Planning your own game</a></li>
<li class="toctree-l1"><a class="reference internal" href="96_creating.html">Coding your own game</a></li>
<li class="toctree-l1"><a class="reference internal" href="97_using_thonny.html">Using Thonny as the IDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="98_index_of_topics.html">Index of Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_documentation.html">GameFrame Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/13_laser.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="add-laser">
<h1>Add Laser<a class="headerlink" href="#add-laser" title="Link to this heading">¶</a></h1>
<aside class="topic">
<p class="topic-title">In this lesson you will:</p>
<ul class="simple">
<li><p>apply learnt knowledge to plan code using IPO tables</p></li>
<li><p>apply learnt knowledge to create a new object</p></li>
<li><p>apply learnt knowledge to move object across a screen</p></li>
<li><p>learn how to use <strong>flag vairables</strong> to track the <strong>state</strong> to the program</p></li>
</ul>
</aside>
<p>Since Zork is hurling Asteroids at our defenceless space ship, we better give it something to fight back. In this lesson will will arm the space ship with a laser.</p>
<section id="shooting-the-laser">
<h2>Shooting the Laser<a class="headerlink" href="#shooting-the-laser" title="Link to this heading">¶</a></h2>
<section id="planning">
<h3>Planning<a class="headerlink" href="#planning" title="Link to this heading">¶</a></h3>
<p>We want to ship to spawn a laser whenever we press the space key.</p>
<p><img alt="Laser IPO" src="_images/laser_IPO.png" /></p>
<p>This involves:</p>
<ul class="simple">
<li><p>creating a new laser class</p></li>
<li><p>adding an event handler of the space key which create a laser object</p></li>
<li><p>make the laser object move across the room when spawned</p></li>
<li><p>deleting the laser object when it leaves the room</p></li>
</ul>
<p>We already know how to do all this, so lets get to the coding.</p>
</section>
<section id="coding">
<h3>Coding<a class="headerlink" href="#coding" title="Link to this heading">¶</a></h3>
<section id="objects-laser-py">
<h4><code class="docutils literal notranslate"><span class="pre">Objects/Laser.py</span></code><a class="headerlink" href="#objects-laser-py" title="Link to this heading">¶</a></h4>
<p><strong>Create</strong> a new file in the <code class="docutils literal notranslate"><span class="pre">Objects</span></code> folder called <code class="docutils literal notranslate"><span class="pre">Laser.py</span></code> and then add the following code to it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">GameFrame</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoomObject</span><span class="p">,</span> <span class="n">Globals</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">class</span><span class="w"> </span><span class="nc">Laser</span><span class="p">(</span><span class="n">RoomObject</span><span class="p">):</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 5</span><span class="sd">    Class for the lasers shot by the Ship</span>
<span class="linenos"> 6</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 7</span>    
<span class="linenos"> 8</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos"> 9</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">10</span><span class="sd">        Inistialise the laser</span>
<span class="linenos">11</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">12</span>        <span class="c1"># include attributes and methods from RoomObject</span>
<span class="linenos">13</span>        <span class="n">RoomObject</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos">14</span>        
<span class="linenos">15</span>        <span class="c1"># set image</span>
<span class="linenos">16</span>        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="s2">&quot;Laser.png&quot;</span><span class="p">)</span>
<span class="linenos">17</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="linenos">18</span>        
<span class="linenos">19</span>        <span class="c1"># set movement</span>
<span class="linenos">20</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_direction</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="linenos">21</span>        
<span class="linenos">22</span>    <span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">23</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">24</span><span class="sd">        Determine what happens to the laser on each tick of the game clock</span>
<span class="linenos">25</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">26</span>        <span class="bp">self</span><span class="o">.</span><span class="n">outside_of_room</span><span class="p">()</span>
<span class="linenos">27</span>        
<span class="linenos">28</span>    <span class="k">def</span><span class="w"> </span><span class="nf">outside_of_room</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">29</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">30</span><span class="sd">        removes laser if it has exited the room</span>
<span class="linenos">31</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">32</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_WIDTH</span><span class="p">:</span>
<span class="linenos">33</span>            <span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="o">.</span><span class="n">delete_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>The only change worth noting is:</p>
<ul class="simple">
<li><p><strong>line 32</strong>: since the laser is moving right, we delete it after it’s <code class="docutils literal notranslate"><span class="pre">x</span></code> has moved past the screen width</p></li>
</ul>
<p><strong>Save</strong> <code class="docutils literal notranslate"><span class="pre">Objects/Laser.py</span></code></p>
</section>
</section>
<section id="objects-init-py">
<h3><code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code><a class="headerlink" href="#objects-init-py" title="Link to this heading">¶</a></h3>
<p>We need to tell GameFrame that we have added a new RoomObject to the <code class="docutils literal notranslate"><span class="pre">Objects</span></code> folder.</p>
<p><strong>Open</strong> <code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code> and add the highlighted code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Title</span><span class="w"> </span><span class="kn">import</span> <span class="n">Title</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Ship</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ship</span>
<span class="linenos">3</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Zork</span><span class="w"> </span><span class="kn">import</span> <span class="n">Zork</span>
<span class="linenos">4</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Asteroid</span><span class="w"> </span><span class="kn">import</span> <span class="n">Asteroid</span>
<span class="hll"><span class="linenos">5</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Laser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Laser</span>
</span></pre></div>
</div>
<p><strong>Save</strong> and <strong>close</strong> <code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code></p>
</section>
<section id="objects-ship-py">
<h3><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code><a class="headerlink" href="#objects-ship-py" title="Link to this heading">¶</a></h3>
<p><strong>Open</strong> <code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code> and add the highlighted code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">GameFrame</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoomObject</span><span class="p">,</span> <span class="n">Globals</span>
<span class="hll"><span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Laser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Laser</span>
</span><span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">pygame</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">Ship</span><span class="p">(</span><span class="n">RoomObject</span><span class="p">):</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 7</span><span class="sd">    A class for the player&#39;s avitar (the Ship)</span>
<span class="linenos"> 8</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 9</span>    
<span class="linenos">10</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">11</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">12</span><span class="sd">        Initialise the Ship object</span>
<span class="linenos">13</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">14</span>        <span class="n">RoomObject</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos">15</span>        
<span class="linenos">16</span>        <span class="c1"># set image</span>
<span class="linenos">17</span>        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="s2">&quot;Ship.png&quot;</span><span class="p">)</span>
<span class="linenos">18</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">19</span>        
<span class="linenos">20</span>        <span class="c1"># register events</span>
<span class="linenos">21</span>        <span class="bp">self</span><span class="o">.</span><span class="n">handle_key_events</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">22</span>        
<span class="linenos">23</span>    <span class="k">def</span><span class="w"> </span><span class="nf">key_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="linenos">24</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">25</span><span class="sd">        Respond to keypress up and down</span>
<span class="linenos">26</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">27</span>        
<span class="linenos">28</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]:</span>
<span class="linenos">29</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="linenos">30</span>        <span class="k">elif</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_s</span><span class="p">]:</span>
<span class="linenos">31</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="mi">10</span>
<span class="hll"><span class="linenos">32</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_SPACE</span><span class="p">]:</span>
</span><span class="hll"><span class="linenos">33</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shoot_laser</span><span class="p">()</span>
</span><span class="linenos">34</span>            
<span class="linenos">35</span>    <span class="k">def</span><span class="w"> </span><span class="nf">keep_in_room</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">36</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">37</span><span class="sd">        Keeps the ship inside the room</span>
<span class="linenos">38</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">39</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">40</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">41</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">&gt;</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span><span class="p">:</span>
<span class="linenos">42</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
<span class="linenos">43</span>            
<span class="linenos">44</span>    <span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">45</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">46</span><span class="sd">        Determine what happens to the Ship on each click of the game clock</span>
<span class="linenos">47</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">48</span>        <span class="bp">self</span><span class="o">.</span><span class="n">keep_in_room</span><span class="p">()</span>
<span class="linenos">49</span>        
<span class="hll"><span class="linenos">50</span>    <span class="k">def</span><span class="w"> </span><span class="nf">shoot_laser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">51</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">52</span><span class="sd">        Shoots a laser from the ship</span>
</span><span class="hll"><span class="linenos">53</span><span class="sd">        &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">54</span>        <span class="n">new_laser</span> <span class="o">=</span> <span class="n">Laser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="p">,</span> 
</span><span class="hll"><span class="linenos">55</span>                          <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> 
</span><span class="hll"><span class="linenos">56</span>                          <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">57</span>        <span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="o">.</span><span class="n">add_room_object</span><span class="p">(</span><span class="n">new_laser</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Lets break that down:</p>
<ul class="simple">
<li><p><strong>line 2</strong>: since we want the Ship to create a Laser object, we need to import the Laser class</p></li>
<li><p><strong>lines 32-33</strong>: handles the event of the space key being pressed</p></li>
<li><p><strong>lines 50-57</strong>:</p>
<ul>
<li><p>creates a new laser object at the middle of the right side of the ship</p></li>
<li><p>adds the laser object to the Room the Ship is in</p></li>
</ul>
</li>
</ul>
<div class="note admonition">
<p class="admonition-title">Spliting instructions over multiple lines</p>
<p>Lines <strong>54 - 56</strong> are actually one instruction split over 3 lines to make it easier to read.</p>
<p>The <strong><a class="reference external" href="https://peps.python.org/pep-0008/">Python Style Guide</a></strong> recommends that lines of code shouldn’t be more than 79 characters long. Although this isn’t followed religiously, it is frown upon to write lines of code that are two long to read without scrolling sideway.</p>
<p>You can split arugements by placing a <strong>linebreak</strong> (pressing <strong>Enter</strong>) after any <code class="docutils literal notranslate"><span class="pre">,</span></code> (like in the code above). You can also place line breaks after <code class="docutils literal notranslate"><span class="pre">,</span></code> in list, dictionaries and tuples.</p>
<p>Placing long expressions inside parenthesis <code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">)</span></code> allows you to place a <strong>linebreak</strong> after any alrogithmic or Boolean operand.</p>
<p>This method can also be used to logically group operations in a exteremely long expression.</p>
</div>
<p><strong>Save</strong> <code class="docutils literal notranslate"><span class="pre">Ship.py</span></code> and then test the code by running <code class="docutils literal notranslate"><span class="pre">MainController.py</span></code>.</p>
</section>
</section>
<section id="restricting-the-laser">
<h2>Restricting the laser<a class="headerlink" href="#restricting-the-laser" title="Link to this heading">¶</a></h2>
<p>When testing, did you notice what happens if you hold down the space key? There is a constant stream of lasers flowing across the screen. You might even notice that some of the other object freeze. What is that?</p>
<p>Since our event lister is tied to the frame rate, it is detecting the space key press 30 times a second, and, consequently, spawning 30 lasers a second. That’s a lot of lasers. We need to work out a way to restrict how many lasers can be shot a second.</p>
<section id="id1">
<h3>Planning<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>To address this issue we will limit how frequently the Ship can spawn a Laser. To do this we are going to use a <strong>flag variable</strong>.</p>
<div class="note admonition">
<p class="admonition-title">Flag variables</p>
<p>Flag variables, also known as Boolean flags, are variables used in computer programming to represent the state of a condition or a specific situation. Flag variables act as signals, indicating whether a particular condition is true or false, and they help control the flow of a program.</p>
</div>
<p>Specifically we are going to create a flag variable called <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> initialised to <code class="docutils literal notranslate"><span class="pre">True</span></code>. A laser can only spawn when <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. Every time a laser is spawned, <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> will be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> and a timer is started. When that timer ends, <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> is set back to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Lets look at that in an IPO table.</p>
<p><img alt="laser with flag IPO" src="_images/laser_with_flag_IPO.png" /></p>
</section>
<section id="id2">
<h3>Coding<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<section id="id3">
<h4><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<p>Restricting the number of lasers is all about laser spawning, which happens in the Ship class so go back to <code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code> and change the highlighted code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">GameFrame</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoomObject</span><span class="p">,</span> <span class="n">Globals</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Laser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Laser</span>
<span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">pygame</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">Ship</span><span class="p">(</span><span class="n">RoomObject</span><span class="p">):</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 7</span><span class="sd">    A class for the player&#39;s avitar (the Ship)</span>
<span class="linenos"> 8</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 9</span>    
<span class="linenos">10</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">11</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">12</span><span class="sd">        Initialise the Ship object</span>
<span class="linenos">13</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">14</span>        <span class="n">RoomObject</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos">15</span>        
<span class="linenos">16</span>        <span class="c1"># set image</span>
<span class="linenos">17</span>        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="s2">&quot;Ship.png&quot;</span><span class="p">)</span>
<span class="linenos">18</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">19</span>        
<span class="linenos">20</span>        <span class="c1"># register events</span>
<span class="linenos">21</span>        <span class="bp">self</span><span class="o">.</span><span class="n">handle_key_events</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">22</span>        
<span class="hll"><span class="linenos">23</span>        <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">True</span>
</span><span class="linenos">24</span>        
<span class="linenos">25</span>    <span class="k">def</span><span class="w"> </span><span class="nf">key_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="linenos">26</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">27</span><span class="sd">        Respond to keypress up and down</span>
<span class="linenos">28</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">29</span>        
<span class="linenos">30</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]:</span>
<span class="linenos">31</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="linenos">32</span>        <span class="k">elif</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_s</span><span class="p">]:</span>
<span class="linenos">33</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="mi">10</span>
<span class="linenos">34</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_SPACE</span><span class="p">]:</span>
<span class="linenos">35</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shoot_laser</span><span class="p">()</span>
<span class="linenos">36</span>            
<span class="linenos">37</span>    <span class="k">def</span><span class="w"> </span><span class="nf">keep_in_room</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">38</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">39</span><span class="sd">        Keeps the ship inside the room</span>
<span class="linenos">40</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">41</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">42</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">43</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">&gt;</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span><span class="p">:</span>
<span class="linenos">44</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
<span class="linenos">45</span>            
<span class="linenos">46</span>    <span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">47</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">48</span><span class="sd">        Determine what happens to the Ship on each click of the game clock</span>
<span class="linenos">49</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">50</span>        <span class="bp">self</span><span class="o">.</span><span class="n">keep_in_room</span><span class="p">()</span>
<span class="linenos">51</span>        
<span class="linenos">52</span>    <span class="k">def</span><span class="w"> </span><span class="nf">shoot_laser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">53</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">54</span><span class="sd">        Shoots a laser from the ship</span>
<span class="linenos">55</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="hll"><span class="linenos">56</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">57</span>            <span class="n">new_laser</span> <span class="o">=</span> <span class="n">Laser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="p">,</span> 
</span><span class="hll"><span class="linenos">58</span>                            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> 
</span><span class="hll"><span class="linenos">59</span>                            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">60</span>            <span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="o">.</span><span class="n">add_room_object</span><span class="p">(</span><span class="n">new_laser</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">61</span>            <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">False</span>
</span><span class="hll"><span class="linenos">62</span>            <span class="bp">self</span><span class="o">.</span><span class="n">set_timer</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">reset_shot</span><span class="p">)</span>
</span><span class="linenos">63</span>            
<span class="hll"><span class="linenos">64</span>    <span class="k">def</span><span class="w"> </span><span class="nf">reset_shot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">65</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">66</span><span class="sd">        Allows ship to shoot again</span>
</span><span class="hll"><span class="linenos">67</span><span class="sd">        &quot;&quot;&quot;</span>
</span><span class="hll"><span class="linenos">68</span>        <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>
</div>
<p>Investigating those changes:</p>
<ul class="simple">
<li><p><strong>line 23</strong>: creates our flag variable and initializes it to <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><strong>line 56</strong>: checks whether the Ship is allows to spawn a laser</p></li>
<li><p><strong>lines 57-60</strong>: these haven’t changed, but their indentation has increased one level to place them inside the if statement.</p></li>
<li><p><strong>line 61</strong>: after spawning a laser, the <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> flag is set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent other lasers being spawned</p></li>
<li><p><strong>line 62</strong>: sets a timer which will call the <code class="docutils literal notranslate"><span class="pre">reset_shot</span></code> function when finished.</p></li>
<li><p><strong>lines 64-68</strong>: this function will be called when the timer has reached 0. It changed the <code class="docutils literal notranslate"><span class="pre">can_shoot</span></code> flag back to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
<p><strong>Save</strong> <code class="docutils literal notranslate"><span class="pre">Ship.py</span></code> then run <code class="docutils literal notranslate"><span class="pre">MainController.py</span></code> to test that everything is working as planned.</p>
</section>
</section>
</section>
<section id="commit-and-push">
<h2>Commit and Push<a class="headerlink" href="#commit-and-push" title="Link to this heading">¶</a></h2>
<p>We have finished and tested another section of code so we should make a Git commit.</p>
<p>To do this:</p>
<ol class="arabic simple">
<li><p>In GitHub Desktop go to the bottom left-hand box and write into the summary <strong>Added lasers</strong>.</p></li>
<li><p>Click on <strong>Commit to main</strong></p></li>
<li><p>Click on <strong>Push origin</strong></p></li>
</ol>
<p>Now the work from this lesson is committed and synced with the online repo.</p>
</section>
<section id="completed-file-states">
<h2>Completed File States<a class="headerlink" href="#completed-file-states" title="Link to this heading">¶</a></h2>
<p>Below are all the files we used in this lesson in their finished state. <strong>Use this to check if your code is correct</strong>.</p>
<section id="id4">
<h3><code class="docutils literal notranslate"><span class="pre">Objects/Laser.py</span></code><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">GameFrame</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoomObject</span><span class="p">,</span> <span class="n">Globals</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">class</span><span class="w"> </span><span class="nc">Laser</span><span class="p">(</span><span class="n">RoomObject</span><span class="p">):</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 5</span><span class="sd">    Class for the lasers shot by the Ship</span>
<span class="linenos"> 6</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 7</span>    
<span class="linenos"> 8</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos"> 9</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">10</span><span class="sd">        Inistialise the laser</span>
<span class="linenos">11</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">12</span>        <span class="c1"># include attributes and methods from RoomObject</span>
<span class="linenos">13</span>        <span class="n">RoomObject</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos">14</span>        
<span class="linenos">15</span>        <span class="c1"># set image</span>
<span class="linenos">16</span>        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="s2">&quot;Laser.png&quot;</span><span class="p">)</span>
<span class="linenos">17</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="linenos">18</span>        
<span class="linenos">19</span>        <span class="c1"># set movement</span>
<span class="linenos">20</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_direction</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="linenos">21</span>        
<span class="linenos">22</span>    <span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">23</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">24</span><span class="sd">        Determine what happens to the laser on each tick of the game clock</span>
<span class="linenos">25</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">26</span>        <span class="bp">self</span><span class="o">.</span><span class="n">outside_of_room</span><span class="p">()</span>
<span class="linenos">27</span>        
<span class="linenos">28</span>    <span class="k">def</span><span class="w"> </span><span class="nf">outside_of_room</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">29</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">30</span><span class="sd">        removes laser if it has exited the room</span>
<span class="linenos">31</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">32</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_WIDTH</span><span class="p">:</span>
<span class="linenos">33</span>            <span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="o">.</span><span class="n">delete_object</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id5">
<h3><code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Title</span><span class="w"> </span><span class="kn">import</span> <span class="n">Title</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Ship</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ship</span>
<span class="linenos">3</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Zork</span><span class="w"> </span><span class="kn">import</span> <span class="n">Zork</span>
<span class="linenos">4</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Asteroid</span><span class="w"> </span><span class="kn">import</span> <span class="n">Asteroid</span>
<span class="linenos">5</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Laser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Laser</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">GameFrame</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoomObject</span><span class="p">,</span> <span class="n">Globals</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">Objects.Laser</span><span class="w"> </span><span class="kn">import</span> <span class="n">Laser</span>
<span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">pygame</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">Ship</span><span class="p">(</span><span class="n">RoomObject</span><span class="p">):</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 7</span><span class="sd">    A class for the player&#39;s avitar (the Ship)</span>
<span class="linenos"> 8</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 9</span>    
<span class="linenos">10</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="linenos">11</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">12</span><span class="sd">        Initialise the Ship object</span>
<span class="linenos">13</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">14</span>        <span class="n">RoomObject</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="linenos">15</span>        
<span class="linenos">16</span>        <span class="c1"># set image</span>
<span class="linenos">17</span>        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="s2">&quot;Ship.png&quot;</span><span class="p">)</span>
<span class="linenos">18</span>        <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">19</span>        
<span class="linenos">20</span>        <span class="c1"># register events</span>
<span class="linenos">21</span>        <span class="bp">self</span><span class="o">.</span><span class="n">handle_key_events</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">22</span>        
<span class="linenos">23</span>        <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">24</span>        
<span class="linenos">25</span>    <span class="k">def</span><span class="w"> </span><span class="nf">key_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="linenos">26</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">27</span><span class="sd">        Respond to keypress up and down</span>
<span class="linenos">28</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">29</span>        
<span class="linenos">30</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_w</span><span class="p">]:</span>
<span class="linenos">31</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="linenos">32</span>        <span class="k">elif</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_s</span><span class="p">]:</span>
<span class="linenos">33</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y_speed</span> <span class="o">=</span> <span class="mi">10</span>
<span class="linenos">34</span>        <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_SPACE</span><span class="p">]:</span>
<span class="linenos">35</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shoot_laser</span><span class="p">()</span>
<span class="linenos">36</span>            
<span class="linenos">37</span>    <span class="k">def</span><span class="w"> </span><span class="nf">keep_in_room</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">38</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">39</span><span class="sd">        Keeps the ship inside the room</span>
<span class="linenos">40</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">41</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">42</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">43</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">&gt;</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span><span class="p">:</span>
<span class="linenos">44</span>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Globals</span><span class="o">.</span><span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
<span class="linenos">45</span>            
<span class="linenos">46</span>    <span class="k">def</span><span class="w"> </span><span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">47</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">48</span><span class="sd">        Determine what happens to the Ship on each click of the game clock</span>
<span class="linenos">49</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">50</span>        <span class="bp">self</span><span class="o">.</span><span class="n">keep_in_room</span><span class="p">()</span>
<span class="linenos">51</span>        
<span class="linenos">52</span>    <span class="k">def</span><span class="w"> </span><span class="nf">shoot_laser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">53</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">54</span><span class="sd">        Shoots a laser from the ship</span>
<span class="linenos">55</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">56</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span><span class="p">:</span>
<span class="linenos">57</span>            <span class="n">new_laser</span> <span class="o">=</span> <span class="n">Laser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="p">,</span> 
<span class="linenos">58</span>                            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> 
<span class="linenos">59</span>                            <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="linenos">60</span>            <span class="bp">self</span><span class="o">.</span><span class="n">room</span><span class="o">.</span><span class="n">add_room_object</span><span class="p">(</span><span class="n">new_laser</span><span class="p">)</span>
<span class="linenos">61</span>            <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">62</span>            <span class="bp">self</span><span class="o">.</span><span class="n">set_timer</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">reset_shot</span><span class="p">)</span>
<span class="linenos">63</span>            
<span class="linenos">64</span>    <span class="k">def</span><span class="w"> </span><span class="nf">reset_shot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">65</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">66</span><span class="sd">        Allows ship to shoot again</span>
<span class="linenos">67</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">68</span>        <span class="bp">self</span><span class="o">.</span><span class="n">can_shoot</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="14_laser_asteroid_collision.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Laser Asteroid Collision</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="12_ship_astroid_collision.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Ship and Asteroid Collision</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Damien Murtagh
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/space-rescue-tutorials" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Add Laser</a><ul>
<li><a class="reference internal" href="#shooting-the-laser">Shooting the Laser</a><ul>
<li><a class="reference internal" href="#planning">Planning</a></li>
<li><a class="reference internal" href="#coding">Coding</a><ul>
<li><a class="reference internal" href="#objects-laser-py"><code class="docutils literal notranslate"><span class="pre">Objects/Laser.py</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#objects-init-py"><code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code></a></li>
<li><a class="reference internal" href="#objects-ship-py"><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#restricting-the-laser">Restricting the laser</a><ul>
<li><a class="reference internal" href="#id1">Planning</a></li>
<li><a class="reference internal" href="#id2">Coding</a><ul>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#commit-and-push">Commit and Push</a></li>
<li><a class="reference internal" href="#completed-file-states">Completed File States</a><ul>
<li><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">Objects/Laser.py</span></code></a></li>
<li><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">Objects/__init__.py</span></code></a></li>
<li><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">Objects/Ship.py</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=a4664895"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>